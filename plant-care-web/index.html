<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantCare AI - Asistente Inteligente</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Background with animated gradient -->
    <div class="gradient-bg"></div>
    
    <!-- Main Container -->
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo-container">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                    <path d="M12 6v6l4 2"/>
                </svg>
                <h1 class="logo-text">PlantCare AI</h1>
            </div>
            <p class="subtitle">Tu asistente inteligente de cuidado de plantas</p>
        </header>

        <!-- Home Section -->
        <section id="home-section" class="section active">
            <!-- Feature Cards -->
            <div class="features-grid">
                <div class="feature-card" data-delay="0">
                    <div class="feature-icon">üîç</div>
                    <h3>Identifica especies</h3>
                    <p>Reconoce m√°s de 10,000 especies</p>
                </div>
                <div class="feature-card" data-delay="100">
                    <div class="feature-icon">üíö</div>
                    <h3>Eval√∫a salud</h3>
                    <p>An√°lisis detallado del estado</p>
                </div>
                <div class="feature-card" data-delay="200">
                    <div class="feature-icon">üí°</div>
                    <h3>Recomendaciones</h3>
                    <p>Consejos personalizados</p>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions-container">
                <button class="btn btn-primary" onclick="document.getElementById('image-input').click()">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                        <circle cx="12" cy="13" r="4"/>
                    </svg>
                    <span>Seleccionar Imagen</span>
                </button>
                <input type="file" id="image-input" accept="image/*" style="display: none;" onchange="handleImageSelect(event)">
            </div>

            <!-- Info Card -->
            <div class="info-card">
                <div class="info-icon">‚ÑπÔ∏è</div>
                <p>Selecciona una foto de tu planta y describe qu√© has hecho con ella. Nuestros agentes de IA analizar√°n su salud y te dar√°n recomendaciones personalizadas.</p>
            </div>
        </section>

        <!-- Analysis Section -->
        <section id="analysis-section" class="section">
            <button class="back-btn" onclick="goBack()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M19 12H5M12 19l-7-7 7-7"/>
                </svg>
                Volver
            </button>

            <div class="image-preview-container">
                <img id="preview-image" src="" alt="Planta" class="preview-image">
            </div>

            <div id="input-section" class="input-section">
                <label class="input-label">¬øQu√© has hecho con tu planta? üå±</label>
                <textarea 
                    id="user-actions" 
                    class="input-textarea" 
                    placeholder='Ej: "He estado regando cada d√≠a, la tengo cerca de la ventana..."'
                    rows="4"
                ></textarea>
                <button class="btn btn-primary" onclick="analyzePlant()">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    <span>Analizar Planta</span>
                </button>
            </div>

            <!-- Loading -->
            <div id="loading-section" class="loading-section hidden">
                <div class="spinner"></div>
                <p class="loading-text">Analizando tu planta con IA...</p>
                <p class="loading-subtext">Esto puede tomar unos segundos</p>
            </div>

            <!-- Results -->
            <div id="results-section" class="results-section hidden">
                <!-- Species Card -->
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-icon">üå∏</div>
                        <h3>Identificaci√≥n</h3>
                    </div>
                    <h2 class="species-name" id="species-name"></h2>
                    <p class="common-names" id="common-names"></p>
                    <div class="confidence-badge">
                        <span id="confidence"></span>
                    </div>
                </div>

                <!-- Health Card -->
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-icon">üíö</div>
                        <h3>Estado de Salud</h3>
                    </div>
                    <div class="health-score" id="health-score-container"></div>
                    <p class="health-status" id="health-status"></p>
                </div>

                <!-- Diagnosis Card -->
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-icon">üìã</div>
                        <h3>Diagn√≥stico</h3>
                    </div>
                    <p class="diagnosis-text" id="diagnosis-summary"></p>
                    <div id="problems-list"></div>
                </div>

                <!-- Recommendations Card -->
                <div class="result-card">
                    <div class="card-header">
                        <div class="card-icon">üí°</div>
                        <h3>Recomendaciones</h3>
                    </div>
                    <div id="recommendations-list"></div>
                </div>

                <button class="btn btn-secondary" onclick="goBack()">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                        <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                        <circle cx="12" cy="13" r="4"/>
                    </svg>
                    Analizar Otra Planta
                </button>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
