<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PlantCare AI | Cuidado Inteligente de Plantas</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Animated Background -->
    <div class="animated-background">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <i class="fa-solid fa-info-circle"></i>
        <span id="toastMsg">Acción completada</span>
    </div>

    <!-- Main Container - 3 Column Layout -->
    <div class="app-container">
        <!-- Left Sidebar: Categories & Tips -->
        <aside class="sidebar-left glass-panel">
            <div class="sidebar-header">
                <h2><i class="fa-solid fa-seedling"></i> Categorías</h2>
                <p>Selecciona un tipo de planta</p>
            </div>

            <div class="categories-container">
                <div class="category-card" data-category="Tropical" onclick="selectCategory('Tropical')">
                    <div class="category-icon">
                        <i class="fa-solid fa-seedling"></i>
                    </div>
                    <span class="category-name">Tropical</span>
                </div>
                <div class="category-card" data-category="Succulents" onclick="selectCategory('Succulents')">
                    <div class="category-icon">
                        <i class="fa-solid fa-spa"></i>
                    </div>
                    <span class="category-name">Suculentas</span>
                </div>
                <div class="category-card" data-category="Bonsai" onclick="selectCategory('Bonsai')">
                    <div class="category-icon">
                        <i class="fa-solid fa-tree"></i>
                    </div>
                    <span class="category-name">Bonsai</span>
                </div>
                <div class="category-card" data-category="Pests" onclick="selectCategory('Pests')">
                    <div class="category-icon">
                        <i class="fa-solid fa-bug"></i>
                    </div>
                    <span class="category-name">Plagas</span>
                </div>
                <div class="category-card" data-category="Indoor" onclick="selectCategory('Indoor')">
                    <div class="category-icon">
                        <i class="fa-solid fa-house"></i>
                    </div>
                    <span class="category-name">Interior</span>
                </div>
                <div class="category-card" data-category="Outdoor" onclick="selectCategory('Outdoor')">
                    <div class="category-icon">
                        <i class="fa-solid fa-sun"></i>
                    </div>
                    <span class="category-name">Exterior</span>
                </div>
            </div>

            <div class="tips-section">
                <div class="tips-header">
                    <h3><i class="fa-regular fa-lightbulb"></i> Tips de Cuidado</h3>
                    <span class="category-badge" id="selectedCategoryBadge">General</span>
                </div>
                <div class="tips-container" id="tipsContainer">
                    <!-- Tips will be dynamically loaded here -->
                </div>
            </div>
        </aside>

        <!-- Center: Hero Plant 3D Model -->
        <div class="center-stage">
            <div class="hero-plant-wrapper">
                <div class="plant-glow"></div>
                <div class="plant-3d-container" id="plant3DContainer">
                    <img src="https://cdn.pixabay.com/photo/2020/05/25/17/21/monstera-5218325_1280.png" 
                         alt="Hero Plant" 
                         class="hero-plant-image" 
                         id="heroPlantImage"
                         onerror="this.src='hero-plant.png'">
                </div>
                <div class="floating-particles">
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                    <div class="particle"></div>
                </div>
            </div>
            <div class="center-text">
                <h1 class="gradient-text">PlantCare AI</h1>
                <p>Identifica, analiza y cuida tus plantas con inteligencia artificial</p>
            </div>
        </div>

        <!-- Right Sidebar: Chat Interface -->
        <aside class="sidebar-right glass-panel">
            <div class="chat-header">
                <h2><i class="fa-solid fa-robot"></i> Asistente IA</h2>
                <p>Sube una imagen y pregunta sobre tu planta</p>
            </div>

            <!-- Chat History - Smaller Section -->
            <div class="chat-container" id="chatContainer">
                <div class="welcome-message">
                    <div class="welcome-icon">
                        <i class="fa-solid fa-leaf"></i>
                    </div>
                    <h3>¡Hola! Soy tu asistente</h3>
                    <p>Sube una foto y pregúntame sobre tu planta</p>
                </div>
            </div>

            <!-- Chat Input Area - Larger and Dynamic -->
            <div class="chat-input-area">
                <div class="image-upload-section" id="imageUploadSection">
                    <input type="file" id="imageInput" accept="image/*" hidden>
                    <div class="upload-zone" id="uploadZone" onclick="document.getElementById('imageInput').click()">
                        <div class="upload-content">
                            <i class="fa-solid fa-cloud-arrow-up"></i>
                            <p>Sube una imagen</p>
                            <span>o arrastra aquí</span>
                        </div>
                    </div>
                    <div class="image-preview-container hidden" id="imagePreviewContainer">
                        <div class="preview-wrapper-small">
                            <img id="imagePreview" class="image-preview-small" alt="Vista previa de la imagen de la planta">
                            <button class="remove-image-btn" onclick="removeImage()" aria-label="Eliminar imagen">
                                <i class="fa-solid fa-times"></i>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="message-input-wrapper">
                    <textarea 
                        id="messageInput" 
                        class="message-input" 
                        placeholder="Escribe tu pregunta sobre la planta..."
                        rows="2"
                    ></textarea>
                    <button class="send-button" id="sendButton" onclick="sendMessage()" aria-label="Enviar mensaje">
                        <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </aside>
    </div>

    <script src="script.js"></script>
</body>

</html>
